# Проект

Проект направлен на создание, наполнение и манипуляцию данными в различных базах данных.

Содержит в себе четыре различные базы данных:

1. транспортные средства;
2. автомобильные гонки;
3. бронирование отелей;
4. структура организации.

Каждая из баз данных включает в себя этапы создания таблиц, наполнения их данными, а также решение задач разной
сложности.

Каждая из представленных баз данных сопровождается скриптом, который создает таблицы базы данных и заполняет их
тестовыми данными.

## База данных 1. Транспортные средства

### /vehicles

1. создание базы данных **_create-table.sql_**
2. вставка моковых данных _**insert-data.sql**_
3. задание 1 **_1.sql_**

    - Найдите производителей (maker) и модели всех мотоциклов, которые имеют мощность более 150 лошадиных сил, стоят
      менее
      20 тысяч долларов и являются спортивными (тип Sport). Также отсортируйте результаты по мощности в порядке
      убывания.
4. задание 2 **_2.sql_**

    - Найти информацию о производителях и моделях различных типов транспортных средств (автомобили, мотоциклы и
      велосипеды), которые соответствуют заданным критериям.

## База данных 2. Автомобильные гонки

### /cars

1. создание базы данных **_create-table.sql_**
2. вставка моковых данных _**insert-data.sql**_
3. задание 1 **_1.sql_**

    - Определить, какие автомобили из каждого класса имеют наименьшую среднюю позицию в гонках, и вывести информацию о
      каждом таком автомобиле для данного класса, включая его класс, среднюю позицию и количество гонок, в которых он
      участвовал. Также отсортировать результаты по средней позиции.
4. задание 2 **_2.sql_**

    - Определить автомобиль, который имеет наименьшую среднюю позицию в гонках среди всех автомобилей, и вывести
      информацию об этом автомобиле, включая его класс, среднюю позицию, количество гонок, в которых он участвовал, и
      страну производства класса автомобиля. Если несколько автомобилей имеют одинаковую наименьшую среднюю позицию,
      выбрать один из них по алфавиту (по имени автомобиля).
5. задание 3 **_3.sql_**

    - Определить классы автомобилей, которые имеют наименьшую среднюю позицию в гонках, и вывести информацию о каждом
      автомобиле из этих классов, включая его имя, среднюю позицию, количество гонок, в которых он участвовал, страну
      производства класса автомобиля, а также общее количество гонок, в которых участвовали автомобили этих классов.
      Если несколько классов имеют одинаковую среднюю позицию, выбрать все из них.

6. задание 4 **_4.sql_**

    - Определить, какие автомобили имеют среднюю позицию лучше (меньше) средней позиции всех автомобилей в своем
      классе (то есть автомобилей в классе должно быть минимум два, чтобы выбрать один из них). Вывести информацию об
      этих автомобилях, включая их имя, класс, среднюю позицию, количество гонок, в которых они участвовали, и страну
      производства класса автомобиля. Также отсортировать результаты по классу и затем по средней позиции в порядке
      возрастания.

7. задание 5 _**5.sql**_

    - Определить, какие классы автомобилей имеют наибольшее количество автомобилей с низкой средней позицией (больше
      3.0) и вывести информацию о каждом автомобиле из этих классов, включая его имя, класс, среднюю позицию, количество
      гонок, в которых он участвовал, страну производства класса автомобиля, а также общее количество гонок для каждого
      класса. Отсортировать результаты по количеству автомобилей с низкой средней позицией.

## База данных 3. Бронирование отелей

### /hotels

1. создание базы данных **_create-table.sql_**
2. вставка моковых данных _**insert-data.sql**_
3. задание 1 **_1.sql_**

    - Определить, какие клиенты сделали более двух бронирований в разных отелях, и вывести информацию о каждом таком
      клиенте, включая его имя, электронную почту, телефон, общее количество бронирований, а также список отелей, в
      которых они бронировали номера (объединенные в одно поле через запятую с помощью CONCAT). Также подсчитать среднюю
      длительность их пребывания (в днях) по всем бронированиям. Отсортировать результаты по количеству бронирований в
      порядке убывания.

4. задание 2 **_2.sql_**

    - Необходимо провести анализ клиентов, которые сделали более двух бронирований в разных отелях и потратили более 500
      долларов на свои бронирования. Для этого:
        - Определить клиентов, которые сделали более двух бронирований и забронировали номера в более чем одном отеле.
        - Вывести для каждого такого клиента следующие данные: ID_customer, имя, общее количество бронирований, общее
          количество
          уникальных отелей, в которых они бронировали номера, и общую сумму, потраченную на бронирования.
        - Также определить клиентов, которые потратили более 500 долларов на бронирования, и вывести для них
          ID_customer, имя,
          общую сумму, потраченную на бронирования, и общее количество бронирований.
          В результате объединить данные из первых двух пунктов, чтобы получить список клиентов, которые соответствуют
          условиям
          обоих запросов.
        - Отобразить поля: ID_customer, имя, общее количество бронирований, общую сумму, потраченную на
          бронирования, и общее количество уникальных отелей.
          Результаты отсортировать по общей сумме, потраченной клиентами, в порядке возрастания.


5. задание 3 _**3.sql**_

    - Вам необходимо провести анализ данных о бронированиях в отелях и определить предпочтения клиентов по типу отелей.

## База данных 4. Структура организации

### /departments

1. создание базы данных **_create-table.sql_**
2. вставка моковых данных _**insert-data.sql**_
3. задание 1 **_1.sql_**

    - Найти всех сотрудников, подчиняющихся Ивану Иванову (с EmployeeID = 1), включая их подчиненных и подчиненных
      подчиненных. Для каждого сотрудника вывести информацию

4. задание 2 _**2.sql**_

    - Найти всех сотрудников, подчиняющихся Ивану Иванову с EmployeeID = 1, включая их подчиненных и подчиненных
      подчиненных. Для каждого сотрудника вывести информацию

5. задание 3 **_3.sql_**

    - Найти всех сотрудников, которые занимают роль менеджера и имеют подчиненных (то есть число подчиненных больше 0).
      Для каждого такого сотрудника вывести информацию
